apiVersion: v1
kind: Secret
metadata:
  name: ootb-supply-chain-remove-source-testing-scanning
  namespace: tap-install
type: Opaque
stringData:
  ootb-supply-chain-remove-source-testing-scanning.yaml: |
    #@ load("@ytt:overlay", "overlay")
    #@ load("@ytt:template", "template")
        
    #@overlay/match by=overlay.subset({"kind":"ClusterSupplyChain"}), expects="0+"
    ---
    spec:
      resources:
      #@overlay/match by="name", expects="0+"
      #@overlay/remove
      - name: source-tester
      
    #@overlay/match by=overlay.subset({"kind":"ClusterSupplyChain"}), expects="0+"
    ---
    spec:
      resources:
      #@overlay/match by="name", expects="0+"
      #@overlay/remove
      - name: source-scanner

    #@overlay/match by=overlay.subset({"kind":"ClusterSupplyChain"}), expects="0+"
    ---
    spec:
      resources:
      #@overlay/match by="name", expects="0+"
      - name: source-scanner
        #@overlay/replace
        sources:
        - resource: source-provider
          name: source